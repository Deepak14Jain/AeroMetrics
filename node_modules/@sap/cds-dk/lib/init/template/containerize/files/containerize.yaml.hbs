---
_schema-version: '1.0'
repository: <your-container-registry>
tag: latest
before-all:
  - npx cds build --production
  {{#isJava}}
  - mvn clean package -DskipTests=true --batch-mode
  {{/isJava}}
modules:
  - name: {{appName}}-srv
    build-parameters:
      buildpack:
        {{#isNodejs}}
        type: nodejs
        {{/isNodejs}}
        builder: builder-jammy-base
        path: {{#isNodejs}}gen/srv{{/isNodejs}}{{#isJava}}srv/target/{{appName}}-exec.jar{{/isJava}}
        env:
        {{#isNodejs}}
          BP_NODE_RUN_SCRIPTS: ""
        {{/isNodejs}}
        {{#isJava}}
          SPRING_PROFILES_ACTIVE: cloud
          BP_JVM_VERSION: 21
        {{/isJava}}
